"use strict";(self.webpackChunkreact_simple_movie=self.webpackChunkreact_simple_movie||[]).push([[338],{4453:function(e,t,n){n(2791);var i=n(3504),a=n(184);t.Z=function(e){var t=e.onClick,n=e.className,r=e.children,c=e.fluid,o=e.outline,s=void 0!==o&&o,l=e.to,d=void 0===l?"":l,u=e.loading,m=void 0!==u&&u,v=(0,a.jsx)("button",{onClick:t,className:"".concat(m?"opacity-60 pointer-events-none":" hover:opacity-90"," ").concat(s?"bg-transparent text-primary border border-primary":"bg-primary text-white"," duration-100 py-3 px-6 rounded-lg capitalize  gap-1  flex items-center justify-center ").concat(n," ").concat(c?"w-full":"w-auto"),children:m?(0,a.jsx)("span",{children:"Loading . . ."}):r});return d?(0,a.jsx)(i.rU,{to:d,children:v}):v}},1356:function(e,t,n){var i=n(885),a=n(2791),r=n(6871),c=n(184);t.Z=function(e){var t=(0,a.useState)(!1),n=(0,i.Z)(t,2),o=n[0],s=n[1],l=(0,r.TH)();return(0,a.useLayoutEffect)((function(){s(!0),setTimeout((function(){s(!1)}),1e3)}),[l]),e.children?(0,c.jsxs)(c.Fragment,{children:[o&&(0,c.jsxs)("div",{className:"loading-container page-loading",children:[(0,c.jsxs)("div",{className:"lds-ripple",children:[(0,c.jsx)("div",{}),(0,c.jsx)("div",{})]}),(0,c.jsx)("p",{className:"content",children:"Loading . . ."})]}),!o&&e.children]}):(0,c.jsx)(c.Fragment,{children:(0,c.jsxs)("div",{className:"loading-container",children:[(0,c.jsxs)("div",{className:"lds-ripple",children:[(0,c.jsx)("div",{}),(0,c.jsx)("div",{})]}),(0,c.jsx)("p",{className:"content",children:"Loading . . ."})]})})}},8729:function(e,t,n){n(2791);var i=n(3504),a=n(3197),r=n(4453),c=n(9126),o=n(2419),s=n(6902),l=n(199),d=n(4809),u=n(184);t.Z=function(e){var t=e.movieid,n=e.item,m=void 0===n?"":n,v=e.mediaType,p={mediaType:v},x=(0,o.ZP)(a.bl.getMoviebyID(t,v),a._i),f=x.data,h=(x.error,t?f:m),g=null===h||void 0===h?void 0:h.title,j=null===h||void 0===h?void 0:h.vote_average,b=null===h||void 0===h?void 0:h.release_date,y=null===h||void 0===h?void 0:h.poster_path,N=null===h||void 0===h?void 0:h.name,w=null===h||void 0===h?void 0:h.first_air_date,_=null===h||void 0===h?void 0:h.id,k=(0,s.s)(_);return h&&(0,u.jsxs)("div",{className:"flex flex-col h-full p- text-white rounded-lg select-none movie-card bg-slate-400",children:[(0,u.jsxs)("div",{className:"relative",children:[k?(0,u.jsx)("div",{className:"absolute flex items-center justify-center w-8 h-8 rounded-full cursor-pointer bg-primary top-3 right-3",children:(0,u.jsx)(d.Z,{id:_,mediaType:v})}):(0,u.jsx)(l.m,{id:_,mediaType:v}),(0,u.jsx)("img",{className:"w-full object-cover rounded-lg mb-5 max-h-[600px]",src:a.bl.getImageUrl(y,"w500"),alt:""})]}),(0,u.jsx)("h3",{className:"mb-3 text-xl text-bold",children:g||N}),(0,u.jsxs)("div",{className:"flex flex-col justify-end flex-1",children:[(0,u.jsxs)("div",{className:"flex items-center justify-between mb-5 text-sm opacity-50",children:[(0,u.jsx)("span",{children:new Date(b||w).getFullYear()}),(0,u.jsxs)("span",{className:"flex items-center gap-1",children:[j&&j.toFixed(1),(0,u.jsx)(c.kum,{})]})]}),(0,u.jsx)(i.rU,{to:"/".concat(v,"/").concat(_),state:p,children:(0,u.jsx)(r.Z,{fluid:!0,children:"go to movie details"})})]})]})}},3197:function(e,t,n){n.d(t,{KM:function(){return a},_i:function(){return i},bl:function(){return o}});var i=function(e){return fetch(e).then((function(e){return e.json()}))},a="https://tl-movie.vercel.app",r="1a763884400befdbd957d043e8e9e19c",c="https://api.themoviedb.org/3",o={getMoviebyID:function(e,t){return"".concat(c,"/").concat(t,"/").concat(e,"?api_key=").concat(r)},getMovieSearch:function(e){return"".concat(c,"/search/movie?api_key=").concat(r,"&query=").concat(e)},getMovieList:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"all";return"popular"===e||"top_rated"===e||"now_playing"===e?"".concat(c,"/").concat(n,"/").concat(e,"?api_key=").concat(r,"&page=").concat(t):"discover"===e?" ".concat(c,"/").concat(e,"/").concat(n,"?api_key=").concat(r,"&page=").concat(t):" ".concat(c,"/").concat(e,"/").concat(n,"/day?api_key=").concat(r,"&page=").concat(t)},getMovieDetail:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"movie";return"".concat(c,"/").concat(t,"/").concat(e,"?api_key=").concat(r)},getImageUrl:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"original";return"https://image.tmdb.org/t/p/".concat(t,"/").concat(e)},getDetailMeta:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"movie";return"".concat(c,"/").concat(n,"/").concat(e,"/").concat(t,"?api_key=").concat(r)},getYoutubeVideo:function(e){return"https://www.youtube.com/embed/".concat(e)}}},6902:function(e,t,n){n.d(t,{s:function(){return a}});n(2791);var i=n(1665),a=function(e){var t=(0,i.a)().userInfo;return!(!t||!e)&&!!(t.listFavorite&&t.listFavorite.find((function(t){return t.id===e})))}},7338:function(e,t,n){n.r(t),n.d(t,{default:function(){return u}});n(2791);var i=n(6871),a=n(3197),r=n(2419),c=n(1356),o=n(7092),s=(n(8729),n(184));function l(e){var t=e.mediaType,n=(0,i.UO)().movieId,c=(0,r.ZP)(a.bl.getDetailMeta(n,"credits",t),a._i),l=c.data;if(c.error)return(0,s.jsx)("div",{children:"failed to load"});if(!l)return(0,s.jsx)("div",{children:"loading..."});var d=l.cast;return(0,s.jsxs)("div",{className:"pt-10 md:pb-10",children:[(0,s.jsx)("h2",{className:"section-title-primary",children:"Series Cast"}),(0,s.jsx)(o.tq,{grapcursor:"true",spaceBetween:40,slidesPerView:3,breakpoints:{480:{slidesPerView:4},620:{slidesPerView:5}},children:null===d||void 0===d?void 0:d.map((function(e){return(0,s.jsxs)(o.o5,{children:[(0,s.jsx)("div",{className:"cast-item",children:(0,s.jsx)("img",{src:a.bl.getImageUrl(e.profile_path),alt:"",className:"w-full object-cover rounded-lg"})}),(0,s.jsx)("h3",{className:"text-xl",children:e.name})]},e.id)}))})]})}function d(e){var t,n=e.mediaType,c=(0,i.UO)().movieId,o=(0,r.ZP)(a.bl.getDetailMeta(c,"videos",n),a._i),l=o.data;if(o.error)return(0,s.jsx)("div",{children:"failed to load"});if(!l)return(0,s.jsx)("div",{children:"loading..."});console.log(l);var d=l.results;return(0,s.jsx)(s.Fragment,{children:null===d||void 0===d||null===(t=d.filter((function(e){return"Trailer"===e.type&&e})))||void 0===t?void 0:t.map((function(e){return(0,s.jsxs)("div",{className:"w-full py-10 aspect-video",children:[(0,s.jsx)("h2",{className:"section-title-primary",children:e.name}),(0,s.jsx)("iframe",{id:e.id,className:"w-full h-full object-fill min-h-[250px]",src:a.bl.getYoutubeVideo(e.key),title:"YouTube video player",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0})]},e.id)}))})}var u=function(){var e=(0,i.UO)().movieId,t=(0,i.TH)().state,n=null===t||void 0===t?void 0:t.mediaType,o=(0,r.ZP)(a.bl.getMovieDetail(e,n),a._i),u=o.data;if(o.error)return(0,s.jsx)("div",{children:"failed to load"});if(!u)return(0,s.jsx)(c.Z,{});var m=u.backdrop_path,v=u.poster_path,p=u.title,x=u.genres,f=u.overview,h=u.release_date,g=u.vote_average,j=u.runtime,b=u.name,y=u.first_air_date,N=u.number_of_episodes;return"".concat(a.KM,"/").concat(n,"/").concat(e),(0,s.jsxs)("div",{className:"page-container",children:[(0,s.jsxs)("div",{className:"md:h-[500px] relative md:mb-10",children:[(0,s.jsx)("div",{className:"absolute inset-0 hidden bg-white md:block bg-opacity-90"}),(0,s.jsx)("div",{className:"hidden w-full h-full bg-no-repeat bg-cover md:block",style:{backgroundImage:"url(".concat(a.bl.getImageUrl(m),")")}}),(0,s.jsxs)("div",{className:"flex flex-col md:banner--flex-style ",children:[(0,s.jsx)("div",{className:"w-full md:w-auto md:h-[400px] shrink-0 ",children:(0,s.jsx)("img",{src:a.bl.getImageUrl(v),className:"object-cover w-auto h-full pb-10 mx-auto rounded-xl",alt:""})}),(0,s.jsxs)("div",{className:"md:px-6",children:[(0,s.jsxs)("h1",{className:"text-4xl font-bold text-primary",children:[p||b,(0,s.jsxs)("span",{className:"px-2 text-xl opacity-80",children:["(",new Date(h||y).getFullYear(),")"]})]}),(0,s.jsxs)("div",{className:"mb-5",children:[(0,s.jsxs)("span",{className:"text-sm",children:[(0,s.jsx)("span",{className:"opacity-50",children:"Average: "}),g,"/10"]}),(0,s.jsxs)("span",{className:"pl-4 text-sm",children:[(0,s.jsx)("span",{className:"opacity-50",children:j?"Run time: ":"Episodes: "}),j||N]})]}),(null===x||void 0===x?void 0:x.length)>0&&(0,s.jsx)("div",{className:"flex flex-wrap items-center mb-5 gap-x-5 gap-y-3 ",children:x.map((function(e){return(0,s.jsx)("span",{className:"px-4 py-1 border border-white rounded",children:e.name},e.id)}))}),(0,s.jsx)("h4",{className:"pb-2 text-xl font-bold text-primary",children:"Overview"}),(0,s.jsx)("p",{className:"mx-auto text-sm leading-relaxed md:pb-10",children:f})]})]})]}),(0,s.jsx)(l,{mediaType:n}),(0,s.jsx)(d,{mediaType:n})]})}},4809:function(e,t,n){var i=n(4165),a=n(2982),r=n(5861),c=n(9062),o=n(8820),s=n(1665),l=n(1367),d=n(184),u=function(){var e=(0,r.Z)((0,i.Z)().mark((function e(t,n,r,o){var s,d;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!o){e.next=8;break}return t.preventDefault(),s=o.listFavorite.filter((function(e){return e.id!==n})),d=(0,c.JU)(l.db,"users",null===o||void 0===o?void 0:o.id),e.next=6,(0,c.r7)(d,{listFavorite:(0,a.Z)(s)}).then((function(){console.log("Success")}));case 6:e.next=9;break;case 8:console.log("Failed");case 9:case"end":return e.stop()}}),e)})));return function(t,n,i,a){return e.apply(this,arguments)}}();t.Z=function(e){var t=e.id,n=e.mediaType,i=e.className,a=void 0===i?"":i,r=(0,s.a)().userInfo;return(0,d.jsx)("span",{onClick:function(e){return u(e,t,n,r)},className:"cursor-pointer ".concat(a),children:(0,d.jsx)(o.M_L,{})})}},199:function(e,t,n){n.d(t,{R:function(){return u},m:function(){return m}});var i=n(4165),a=n(5861),r=n(9062),c=(n(2791),n(1665)),o=n(1367),s=n(8820),l=n(9085),d=n(184),u=function(){var e=(0,a.Z)((0,i.Z)().mark((function e(t,n,a,c){var s;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!c){e.next=7;break}return t.preventDefault(),s=(0,r.JU)(o.db,"users",c.id),e.next=5,(0,r.r7)(s,{listFavorite:(0,r.vr)({id:n,type:a})}).then((function(){console.log("Success")}));case 5:e.next=8;break;case 7:l.Am.error("You have to sign in first!");case 8:case"end":return e.stop()}}),e)})));return function(t,n,i,a){return e.apply(this,arguments)}}(),m=function(e){var t=e.id,n=e.mediaType,i=(0,c.a)().userInfo;return(0,d.jsxs)("span",{className:"absolute flex items-center justify-center w-8 h-8 leading-none duration-200 rounded-full cursor-pointer hover:gap-3 top-3 right-3 bg-white/30 backdrop-blur-sm group hover:bg-primary hover:w-auto hover:px-3",onClick:function(e){return u(e,t,n,i)},children:[(0,d.jsx)(s.Lfi,{}),(0,d.jsx)("span",{className:"hidden text-transparent group-hover:block group-hover:text-white",children:"Add to favorite"})]})}}}]);
//# sourceMappingURL=338.5dad7168.chunk.js.map